<ion-header [translucent]="true" class="store-header">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard-customer"></ion-back-button>
    </ion-buttons>
    <ion-title>Store</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="store-content">

  <!-- STORE HERO -->
  <div class="store-hero" *ngIf="store?.length">
    <img
      *ngIf="store[0]?.store_image_path"
      [src]="environment.Upload_URL + store[0].store_image_path"
      alt="{{ store[0]?.store_name }}"
    />

    <div class="store-overlay">
      <h1>{{ store[0]?.store_name }}</h1>
      <p>Location: {{ store[0]?.latitude }}, {{ store[0]?.longitude }}</p>
    </div>
  </div>

  <!-- STORE INFO CARD -->
  <!-- <ion-card *ngIf="store?.length" class="store-info-card">
    <ion-card-content>
      <p><strong>Store ID:</strong> {{ store[0]?.store_id }}</p>
      <p><strong>Seller ID:</strong> {{ store[0]?.seller_id }}</p>
    </ion-card-content>
  </ion-card> -->

  <h4 class="section-title">Available Items</h4>

  <div class="stock-list" *ngIf="store?.length">

    <ion-card
      *ngFor="let s of store"
      class="stock-card"
      [routerLink]="['/stock-detail', s.stock_id]"
      button>

      <img
        *ngIf="s.store_stock_image_path"
        [src]="environment.Upload_URL + s.store_stock_image_path"
        class="stock-img"
      />

      <ion-card-content>
        <h3>{{ s.stock_name }}</h3>
        <p class="price">RM {{ s.price }}</p>
        <p class="qty">Qty: {{ s.quantity }}</p>
      </ion-card-content>

    </ion-card>

  </div>

  <!-- NAVIGATION CTA -->
  <ion-button expand="block" class="navigate-btn" (click)="navigateToStore()">
    Navigate to Store
  </ion-button>

</ion-content>


<ion-footer>
  <ion-toolbar>
    <div class="tab-bar">
      <div class="tab-item" [class.active]="router.url === '/dashboard-customer'" routerLink="/dashboard-customer">
        <ion-icon name="home-outline"></ion-icon>
        <span>Home</span>
      </div>
      <div class="tab-item" [class.active]="router.url === '/cart'" routerLink="/cart">
        <ion-icon name="cart-outline"></ion-icon>
        <span>Cart</span>
      </div>
      <div class="tab-item" [class.active]="router.url === '/profile'" routerLink="/profile">
        <ion-icon name="person-outline"></ion-icon>
        <span>Profile</span>
      </div>
    </div>
  </ion-toolbar>
</ion-footer>
